# Week 1: Основы информационной безопасности и моделирование угроз

## Введение

На первой неделе обучения мы сосредотачиваемся на базовых, но крайне важных понятиях в области безопасности приложений и инфраструктуры. Мы рассмотрим:

* OWASP Top 10 — перечень наиболее распространённых уязвимостей.
* STRIDE — метод моделирования угроз от Microsoft.
* MITRE ATT\&CK — фреймворк для анализа поведения атакующих.

Цель недели: понять и уметь применять базовые подходы к анализу уязвимостей и угроз, сформировать мышление DevSecOps-инженера.

---

## Раздел 1. OWASP Top 10 (2021)

**Что это:**
OWASP (Open Web Application Security Project) публикует перечень наиболее распространённых уязвимостей веб-приложений. Это стандарт в индустрии кибербезопасности.

### Перечень уязвимостей:

#### 1. **Broken Access Control** — обход ограничений доступа

* **Описание:** пользователи получают доступ к ресурсам, к которым не должны иметь доступ (например, данные других пользователей).
* **Пример:** изменение `user_id` в URL позволяет просматривать чужие профили.
* **Меры защиты:**

  * Использовать серверную проверку прав доступа (не полагаться на client-side).
  * Реализовать RBAC/ABAC.
  * Применять политики "по умолчанию отказ".

---

#### 2. **Cryptographic Failures** — ошибки в применении криптографии

* **Описание:** слабая защита конфиденциальности и целостности данных.
* **Пример:** хранение паролей в открытом виде или использование устаревшего MD5.
* **Меры защиты:**

  * Применение современных алгоритмов (например, AES-256, bcrypt).
  * Принудительное использование TLS.
  * Проверка сертификатов и шифрования на клиенте и сервере.

---

#### 3. **Injection** — внедрение кода

* **Описание:** выполнение незапланированного кода через входные данные пользователя.
* **Примеры:** SQL, OS Command, LDAP, NoSQL-инъекции.
* **Меры защиты:**

  * Использовать подготовленные выражения (prepared statements).
  * Экранировать пользовательский ввод.
  * Использовать ORM и валидацию схем.

---

#### 4. **Insecure Design** — слабая архитектура

* **Описание:** отсутствие продуманных механизмов безопасности на уровне проектирования.
* **Пример:** отсутствие rate-limiting, слабое разграничение доверенных и недоверенных зон.
* **Меры защиты:**

  * Проведение threat modeling.
  * Разработка с учётом принципов безопасного проектирования (Secure by Design).
  * Использование шаблонов безопасности (security patterns).

---

#### 5. **Security Misconfiguration** — ошибки конфигурации

* **Описание:** неправильные настройки серверов, платформ, контейнеров и приложений.
* **Пример:** доступен `/admin` интерфейс по умолчанию без защиты.
* **Меры защиты:**

  * Включить безопасные настройки по умолчанию.
  * Удалить неиспользуемые сервисы и функции.
  * Периодический аудит конфигураций (например, с помощью CIS Benchmarks, kube-bench).

---

#### 6. **Vulnerable and Outdated Components** — устаревшие зависимости

* **Описание:** использование библиотек и компонентов с известными уязвимостями.
* **Пример:** использование Log4j версии с уязвимостью Log4Shell.
* **Меры защиты:**

  * Автоматический мониторинг зависимостей (например, Dependabot, Renovate).
  * Использование SCA (Software Composition Analysis).
  * Обновление компонентов по расписанию.

---

#### 7. **Identification and Authentication Failures** — уязвимости аутентификации

* **Описание:** слабые механизмы аутентификации и управления сессиями.
* **Пример:** возможность перебора пароля, отсутствие ограничения сессий.
* **Меры защиты:**

  * Использование MFA.
  * Ограничение попыток входа (rate-limiting).
  * Использование безопасных cookie-флагов (`HttpOnly`, `Secure`).

---

#### 8. **Software and Data Integrity Failures** — отсутствие контроля целостности

* **Описание:** приложение доверяет непроверенным источникам и не проверяет целостность кода.
* **Пример:** обновление через ненадёжный источник без подписи.
* **Меры защиты:**

  * Проверка цифровых подписей пакетов.
  * CI/CD пайплайны должны быть защищены.
  * Использование SBOM (Software Bill of Materials).

---

#### 9. **Security Logging and Monitoring Failures** — слабый мониторинг

* **Описание:** отсутствие журналирования, мониторинга и оповещений о подозрительной активности.
* **Пример:** атаки проходят незамеченными, потому что нет логов или они не анализируются.
* **Меры защиты:**

  * Включение журналирования важных событий (входы, ошибки доступа и пр.).
  * Интеграция с SIEM-системами.
  * Настройка алертов на аномалии.

---

#### 10. **Server-Side Request Forgery (SSRF)**

* **Описание:** злоумышленник заставляет сервер делать запросы от его имени к внутренним или внешним ресурсам.
* **Пример:** SSRF позволяет запросить `http://localhost:8080/admin` снаружи.
* **Меры защиты:**

  * Фильтрация выходящих URL по allowlist.
  * Ограничение сетевых привилегий приложения.
  * Использование веб-прокси с контролем доступа.


### Практика:

* Найти реальные кейсы каждой уязвимости на [OWASP.org](https://owasp.org/www-project-top-ten/).
* Изучить примеры эксплуатации на [PortSwigger Web Security Academy](https://portswigger.net/web-security).

---

## Раздел 2. STRIDE — Моделирование угроз

**Что это:**
STRIDE — методология Microsoft для систематизации угроз на этапе проектирования.

### Категории угроз STRIDE:

| Категория              | Описание              |
| ---------------------- | --------------------- |
| Spoofing               | Подделка личности     |
| Tampering              | Подмена данных        |
| Repudiation            | Отказ от действий     |
| Information Disclosure | Утечка информации     |
| Denial of Service      | Нарушение доступности |
| Elevation of Privilege | Повышение прав        |

### Практика:

* Выберите микросервис из вашего стека (например, API авторизации).
* Постройте DFD-диаграмму (можно в draw\.io или diagrams.net).
* Проведите STRIDE-анализ:

  * Определите, какие из 6 угроз применимы.
  * Придумайте меры предотвращения (например, TLS, RBAC, журналирование, валидация).

**Полезные ресурсы:**

* [STRIDE в Wikipedia](https://en.wikipedia.org/wiki/STRIDE_%28security%29)
* [Видео: STRIDE Threat Modeling](https://www.youtube.com/watch?v=rEnJYNkUde0)

---

## Раздел 3. MITRE ATT\&CK

**Что это:**
MITRE ATT\&CK — это база знаний тактик, техник и процедур (TTPs), используемых хакерами. Применяется для анализа угроз, построения детекторов и анализа инцидентов.

### Основные понятия:

* **Tactics** — "что" делает атакующий (например, Initial Access, Privilege Escalation).
* **Techniques** — "как" он это делает (например, Phishing, DLL Injection).
* **Sub-techniques** — уточнённые методы (например, Spear Phishing via Service).

### Практика:

* Перейдите на [attack.mitre.org](https://attack.mitre.org/).
* Найдите технику T1059 (Command and Scripting Interpreter).
* Изучите варианты использования.
* Опишите, как можно обнаружить её (например, мониторинг процессов и команд).

**Полезные ресурсы:**

* [MITRE ATT\&CK Matrix](https://attack.mitre.org/matrices/enterprise/)
* [Видео: MITRE ATT\&CK Explained](https://www.youtube.com/watch?v=LCec9K0aAkM)

---

## Практические задания (шаг за шагом):

### Шаг 1: OWASP Top 10

1. Прочитать описание каждого пункта.
2. Найти 1-2 реальных примера для каждой уязвимости.
3. Сформулировать меры предотвращения.

### Шаг 2: STRIDE-моделирование

1. Нарисовать DFD простой системы (например, логин-сервис).
2. Для каждого элемента применить STRIDE.
3. Записать выявленные угрозы и защитные меры.

### Шаг 3: MITRE ATT\&CK

1. Изучить базовые тактики.
2. Найти 1-2 техники, которые потенциально применимы в вашей инфраструктуре.
3. Описать, как можно детектировать и предотвратить использование этих техник.

---

## Заключение

На этой неделе вы:

* Ознакомились с фундаментальными понятиями в области безопасности.
* Научились моделировать угрозы с использованием STRIDE.
* Изучили OWASP Top 10 и MITRE ATT\&CK.

Эти знания формируют прочную базу для перехода к практическим навыкам DevSecOps: внедрение SAST/DAST, анализ логов, реагирование на инциденты, CI/CD безопасных пайплайнов и др.

---

## Ссылки и ресурсы:

* [OWASP Top 10 (официальный сайт)](https://owasp.org/www-project-top-ten/)
* [PortSwigger Web Security Academy (песочница)](https://portswigger.net/web-security)
* [MITRE ATT\&CK Framework](https://attack.mitre.org/)
* [STRIDE Threat Modeling Video](https://www.youtube.com/watch?v=rEnJYNkUde0)
* [Draw.io (для DFD)](https://app.diagrams.net/)

---

**Следующий шаг:** На неделе 2 мы начнём изучать практики безопасной разработки: Secure SDLC, инструменты SAST/DAST, DevSecOps pipeline.
