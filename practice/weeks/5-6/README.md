**–ø–ª–∞–Ω –Ω–∞ –Ω–µ–¥–µ–ª–∏ 5‚Äì6**, —Ä–∞–∑–±–∏—Ç—ã–π –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º, –∑–∞–¥–∞—á–∞–º –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º, —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫—É DevSecOps-–∏–Ω–∂–µ–Ω–µ—Ä–∞.

---

# ‚ò∏Ô∏è **–ù–µ–¥–µ–ª–∏ 5‚Äì6: Kubernetes –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

–¶–µ–ª—å: **–ü–æ–Ω—è—Ç—å –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—É—é –±–∞–∑—É –≤ Kubernetes-–∫–ª–∞—Å—Ç–µ—Ä–µ**, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –∏ –Ω–∞—á–∞—Ç—å –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

---

## üìÖ **–ù–µ–¥–µ–ª—è 5: –ê—É–¥–∏—Ç –∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞**

### üîç 1. kube-bench ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ CIS-–±–µ–Ω—á–º–∞—Ä–∫–∞
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ kubelet, apiserver, scheduler –∏ —Ç.–¥. –ø–æ [CIS Kubernetes Benchmark](https://www.cisecurity.org/benchmark/kubernetes)
- ‚úÖ **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å**:
  ```bash
  docker run --rm --pid=host --net=host \
    -v /etc:/etc:ro -v /var:/var:ro \
    aquasec/kube-bench:latest --version 1.23
  ```
- üìå **–†–µ–∑—É–ª—å—Ç–∞—Ç**: —Å–ø–∏—Å–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∫–ª–∞—Å—Ç–µ—Ä–∞

---

### üïµÔ∏è 2. kube-hunter ‚Äî –ø–æ–∏—Å–∫ –≤–Ω–µ—à–Ω–∏—Ö –∞—Ç–∞–∫—É—é—â–∏—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –∞–∫—Ç–∏–≤–Ω—ã–π –∏ –ø–∞—Å—Å–∏–≤–Ω—ã–π —Å–∫–∞–Ω–∏–Ω–≥ –∞—Ç–∞–∫—É—é—â–∏—Ö –ø—É—Ç–µ–π (API, etcd, kubelet, dashboard)
- ‚úÖ **–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞**:
  ```bash
  docker run --rm -it aquasec/kube-hunter --remote <node-ip>
  ```
- üìå **–†–µ–∑—É–ª—å—Ç–∞—Ç**: —Å–ø–∏—Å–æ–∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤ –∞—Ç–∞–∫ –∏–∑–≤–Ω–µ

---

### üßº 3. Polaris ‚Äî –∞–Ω–∞–ª–∏–∑ YAML-–º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –Ω–∞—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∏ –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è—Ö Pod'–æ–≤:
  - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `resources`
  - `runAsRoot: true`
  - `privileged: true`
- ‚úÖ **–£—Å—Ç–∞–Ω–æ–≤–∫–∞**:
  ```bash
  kubectl apply -f https://github.com/FairwindsOps/polaris/releases/latest/download/dashboard.yaml
  ```
  –∏–ª–∏ –≤ CI:
  ```bash
  docker run -v $(pwd):/project quay.io/fairwinds/polaris:latest audit
  ```
- üìå **–†–µ–∑—É–ª—å—Ç–∞—Ç**: HTML/CLI-–æ—Ç—á—ë—Ç –ø–æ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞–º

---

## üìÖ **–ù–µ–¥–µ–ª—è 6: –£–≥–ª—É–±–ª–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –∏ –ø–æ–ª–∏—Ç–∏–∫–∏**

### üõ°Ô∏è 4. RBAC –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤
- **–ò–∑—É—á–∏—Ç—å**:
  - `Role`, `ClusterRole`, `RoleBinding`, `ServiceAccount`
  - –ü—Ä–∏–Ω—Ü–∏–ø "–Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π"
- ‚úÖ **–ü—Ä–∞–∫—Ç–∏–∫–∞**:
  - –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é SA —Å –¥–æ—Å—Ç—É–ø–æ–º —Ç–æ–ª—å–∫–æ –∫ –Ω—É–∂–Ω—ã–º namespace
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ —á–µ—Ä–µ–∑ `kubectl auth can-i`
  - –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∞–¥–º–∏–Ω—Å–∫–∏–µ —Ä–æ–ª–∏ (–Ω–µ—Ç `cluster-admin` –≥–¥–µ –Ω–µ –Ω—É–∂–Ω–æ)

---

### üåê 5. NetworkPolicies ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–µ—Ç–µ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- **–ò–∑—É—á–∏—Ç—å**:
  - `deny all` –ø–æ–ª–∏—Ç–∏–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  - `allow from namespace` / `app` / `podSelector`
- ‚úÖ **–ü—Ä–∏–º–µ–Ω–∏—Ç—å**:
  - –ù–∞–ø–∏—Å–∞—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏, –∑–∞–ø—Ä–µ—â–∞—é—â–∏–µ –≤—Å—ë, –∫—Ä–æ–º–µ –Ω—É–∂–Ω—ã—Ö —Å–≤—è–∑–µ–π
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `networkpolicy` enforcement (Calico, Cilium, etc.)

---

### üìú 6. Audit Logs ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π
- **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å**, —á—Ç–æ:
  - `audit-log-path` –≤–∫–ª—é—á—ë–Ω
  - –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è = `Metadata`, `Request`, `RequestResponse`
- ‚úÖ **–ü—Ä–∏–º–µ—Ä—ã**:
  - –ù–∞–π—Ç–∏ –¥–æ—Å—Ç—É–ø—ã `kubectl exec`, `create pod`, `delete role`
  - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –ª–æ–≥–æ–≤ –≤ Fluent Bit/Elasticsearch/Logstash

---

### üîê 7. Kyverno –∏–ª–∏ Gatekeeper ‚Äî –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### üß© **Kyverno** (–ø—Ä–æ—â–µ –≤ –æ—Å–≤–æ–µ–Ω–∏–∏):
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
  ```bash
  kubectl create -f https://raw.githubusercontent.com/kyverno/kyverno/main/config/release/install.yaml
  ```
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –ø–æ–ª–∏—Ç–∏–∫:
  - –û—Ç–∫–ª–æ–Ω—è—Ç—å Pod –±–µ–∑ `runAsNonRoot: true`
  - –ó–∞–ø—Ä–µ—Ç–∏—Ç—å pull –æ–±—Ä–∞–∑–æ–≤ —Å `latest`
  - –ü—Ä–∏–º–µ–Ω—è—Ç—å `resource limits` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

#### üìê **Gatekeeper** (—á–µ—Ä–µ–∑ OPA Rego):
- –ë–æ–ª–µ–µ –º–æ—â–Ω—ã–π, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç Rego-–ª–æ–≥–∏–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ enterprise –∏ –¥–ª—è –±–æ–ª–µ–µ –≥–∏–±–∫–∏—Ö –ø–æ–ª–∏—Ç–∏–∫

---

## üìä **–ò—Ç–æ–≥ –Ω–µ–¥–µ–ª–∏ 6 ‚Äî —á–µ–∫–ª–∏—Å—Ç**

| –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ | –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ / –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ |
|-------------|------------------------|
| kube-bench | ‚úÖ |
| kube-hunter | ‚úÖ |
| Polaris | ‚úÖ |
| RBAC review | ‚úÖ |
| NetworkPolicies | ‚úÖ |
| Audit –ª–æ–≥ | ‚úÖ |
| Kyverno/Gatekeeper | ‚úÖ |

---
