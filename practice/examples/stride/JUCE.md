Juice Shop –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—Ç—Ä–∞–±–æ—Ç–∫–∏ STRIDE-–∞–Ω–∞–ª–∏–∑a, –ø–æ—Ç–æ–º—É —á—Ç–æ:

‚úÖ –∏–º–µ–µ—Ç **—Ä–µ–∞–ª—å–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
‚úÖ —Ä–µ–∞–ª–∏–∑—É–µ—Ç **–¥–µ—Å—è—Ç–∫–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π** –∏–∑ OWASP Top 10
‚úÖ –ª–µ–≥–∫–æ **—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ Docker**
‚úÖ –≤–∫–ª—é—á–∞–µ—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Ä–∞–∑–º–µ—Ç–∫—É —É–≥—Ä–æ–∑ –≤ UI** (–µ—Å–ª–∏ –≤–∫–ª—é—á–∏—Ç—å "CTF mode")

---

## üö© –ü–õ–ê–ù: –ü–æ–ª–Ω—ã–π STRIDE-–∞–Ω–∞–ª–∏–∑ –Ω–∞ OWASP Juice Shop

### üîß **0. –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ Juice Shop**

```bash
docker run --rm -p 3000:3000 bkimminich/juice-shop
```

–ó–∞–π–¥–∏ –Ω–∞ [http://localhost:3000](http://localhost:3000)

---

### üß© **1. –ü–æ—Å—Ç—Ä–æ–∏–º DFD (Data Flow Diagram)**

–î–ª—è –Ω–∞—á–∞–ª–∞ ‚Äî **–ø—Ä–æ—Å—Ç–∞—è –º–æ–¥–µ–ª—å** –ª–æ–≥–∏–Ω-—Å–µ—Ä–≤–∏—Å–∞:

```
[User] --> [Frontend] --> [Login API] --> [Database]
```

–ú–æ–∂–µ–º –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, draw\.io) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [Microsoft Threat Modeling Tool](https://www.microsoft.com/en-us/security/blog/2018/09/24/threat-modeling-getting-started/)

–¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ —É–∂–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ –ø—É—Ç–∏
practice/examples/stride/login_service.dfd.txt

---

### üß± **2. –ü—Ä–∏–º–µ–Ω–∏–º STRIDE –∫ –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É**

| –≠–ª–µ–º–µ–Ω—Ç       | –£–≥—Ä–æ–∑–∞ | –ü—Ä–∏–º–µ—Ä –≤ Juice Shop                         | –ó–∞—â–∏—Ç–∞                         |
| ------------- | ------ | ------------------------------------------- | ------------------------------ |
| **User**      | S      | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥–¥–µ–ª—ã–≤–∞–µ—Ç –ª–æ–≥–∏–Ω (spoofing)   | CAPTCHA, 2FA                   |
|               | R      | –û—Ç–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—Ç –¥–µ–π—Å—Ç–≤–∏–π (repudiation)      | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π           |
| **Frontend**  | T      | –ü–æ–¥–º–µ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (form tampering)         | –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ |
|               | I      | –û—Ç–¥–∞—ë—Ç –ª–∏—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ (e.g., email –≤ –æ—Ç–≤–µ—Ç–µ) | –ö–æ–Ω—Ç—Ä–æ–ª—å –æ—Ç–≤–µ—Ç–∞                |
| **Login API** | E      | SQLi –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–≤—ã—Å–∏—Ç—å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏          | Prepared statements            |
|               | D      | –ú–∞—Å—Å–∏–≤–Ω—ã–π –±—Ä—É—Ç—Ñ–æ—Ä—Å ‚Üí DoS                    | Rate limiting                  |
| **Database**  | I      | –ù–µ —à–∏—Ñ—Ä—É—é—Ç—Å—è –ø–∞—Ä–æ–ª–∏                         | bcrypt/argon2                  |

---

### üß™ **3. –ù–∞–π–¥—ë–º —Ä–µ–∞–ª—å–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –≤ Juice Shop**

Juice Shop –≤–∫–ª—é—á–∞–µ—Ç –¥–µ—Å—è—Ç–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π ‚Äî –∏ –º—ã –º–æ–∂–µ–º –ø—Ä–æ–π—Ç–∏ **–ø–æ –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ STRIDE**:

#### üìå **Spoofing**

* –£—è–∑–≤–∏–º–æ—Å—Ç—å: –≤—Ö–æ–¥ –ø–æ–¥ —á—É–∂–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
* –ü—Ä–∏–º–µ—Ä: –Ω–∞–π—Ç–∏ —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `JWT debug`, –≤—Å—Ç–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é ‚Üí –≤—Ö–æ–¥
* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: `admin@juice-sh.op` ‚Äî –ø–æ–ª—É—á–∞–µ—à—å –¥–æ—Å—Ç—É–ø –±–µ–∑ –ø–∞—Ä–æ–ª—è

#### üõ† **Tampering**

* –£—è–∑–≤–∏–º–æ—Å—Ç—å: –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (e.g., `/rest/user/login`)
* –ü—Ä–∏–º–µ—Ä: `curl -X POST` —Å —Ñ–∞–ª—å—à–∏–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

#### üßæ **Repudiation**

* –£—è–∑–≤–∏–º–æ—Å—Ç—å: –Ω–µ—Ç –ª–æ–≥–æ–≤ –¥–µ–π—Å—Ç–≤–∏–π (–º–æ–∂–Ω–æ –æ—Ç—Ä–∏—Ü–∞—Ç—å —Ñ–∞–∫—Ç –¥–µ–π—Å—Ç–≤–∏—è)
* –ü—Ä–æ–≤–µ—Ä–∫–∞: –≤—ã–ø–æ–ª–Ω–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞, –∞ –ø–æ—Ç–æ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `/logs`

#### üîê **Information Disclosure**

* –£—è–∑–≤–∏–º–æ—Å—Ç—å: –≤–∏–¥–Ω—ã email-–∞–¥—Ä–µ—Å–∞, –ø–∞—Ä–æ–ª–∏, –∫–æ–Ω—Ñ–∏–≥–∏
* –ü—Ä–∏–º–µ—Ä: `robots.txt`, `ftp-access.log`, `package.json` –æ—Ç–∫—Ä—ã—Ç—ã

#### üß® **Denial of Service**

* –£—è–∑–≤–∏–º–æ—Å—Ç—å: –Ω–µ—Ç rate-limiting –Ω–∞ `/rest/user/login`
* –ü—Ä–∏–º–µ—Ä: Burp Intruder —Å 1000 –ø–æ–ø—ã—Ç–∫–∞–º–∏ ‚Üí API –ª–æ–∂–∏—Ç—Å—è

#### üìà **Elevation of Privilege**

* –£—è–∑–≤–∏–º–æ—Å—Ç—å: —Å–º–µ–Ω–∞ —Ä–æ–ª–∏ —á–µ—Ä–µ–∑ JWT
* –ü—Ä–∏–º–µ—Ä: –≤—Ä—É—á–Ω—É—é –∏–∑–º–µ–Ω–∏—Ç—å `"role": "admin"` –≤ JWT –∏ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å

---

### üìã **4. –û—Ç—á—ë—Ç –ø–æ STRIDE-–∞–Ω–∞–ª–∏–∑—É**

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Ç–µ–±—è —à–∞–±–ª–æ–Ω (Markdown –∏–ª–∏ PDF), –∫–æ—Ç–æ—Ä—ã–π —Ç—ã —Å–º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.

---

### ü§ñ **5. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞**

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç                     | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                              |
| ------------------------------ | --------------------------------------- |
| OWASP Threat Dragon            | –í–∏–∑—É–∞–ª—å–Ω–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ DFD + STRIDE   |
| Microsoft Threat Modeling Tool | –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º –Ω–∞ –±–∞–∑–µ —à–∞–±–ª–æ–Ω–æ–≤ |
| ThreatSpec + Gherkin           | –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π STRIDE-–∞–Ω–∞–ª–∏–∑ (IaC)    |
| PyTM                           | Python DSL –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è —É–≥—Ä–æ–∑      |
| Burp Suite Intruder            | –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ DoS, Spoofing    |

---

## ‚úÖ –ß—Ç–æ —Ç—ã –º–æ–∂–µ—à—å –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:

1. **–í Juice Shop –∞–∫—Ç–∏–≤–∏—Ä—É–π CTF-mode**
   `http://localhost:3000/#/score-board` ‚Üí "Enable CTF Mode"

2. **–î–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ STRIDE**:

   * –ù–∞–π–¥–∏ 1‚Äì2 –ø—Ä–∏–º–µ—Ä–∞ –∏–∑ Juice Shop
   * –û–ø–∏—à–∏: —É—è–∑–≤–∏–º–æ—Å—Ç—å ‚Üí STRIDE ‚Üí –∑–∞—â–∏—Ç–∞
   * –î–æ–±–∞–≤—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã / curl / burp

3. **–ï—Å–ª–∏ –Ω—É–∂–Ω–æ ‚Äî —è –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Å–æ–±—Ä–∞—Ç—å –≤–µ—Å—å –æ—Ç—á—ë—Ç**

---

## –•–æ—á–µ—à—å —à–∞–±–ª–æ–Ω STRIDE-–æ—Ç—á—ë—Ç–∞ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏–∑ Juice Shop?

üìù –ú–æ–≥—É —Å—Ä–∞–∑—É —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å:

* .md —Ñ–∞–π–ª –¥–ª—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
* –∏–ª–∏ .pdf –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–°–∫–∞–∂–∏ —Ñ–æ—Ä–º–∞—Ç ‚Äî –∏ —Å–¥–µ–ª–∞—é.
https://medium.com/@oleksii.bebych/hack-the-owasp-juice-shop-application-and-protect-it-with-aws-waf-part-2-2d1d34693ee7

–í–∏–¥–µ–æ –æ–±—ä—è—Å–Ω—è–µ—Ç –∫–∞–∫ —Ç–∞–º —Ä–∞–±–æ—Ç–∞—Ç—å
https://www.youtube.com/watch?v=1HrTpehfdPM&ab_channel=NDCConferences

–¢—É—Ç –µ—Å—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤ —Å–∞–º–æ–º —Å–∞–π—Ç–µ
http://localhost:3000/#/score-board


